# 학습 가이드 Agent 🎓

사용자가 배우고 싶은 주제를 입력하면 단계별 학습 계획을 자동으로 생성하는 AI Agent입니다.  
Tavily 검색을 통해 최신 정보를 수집하고, 카테고리별 맞춤형 학습 가이드를 제공하며, Word 문서로 결과를 저장합니다.

## ✨ 주요 기능

### 🎯 핵심 기능
- **카테고리별 맞춤 학습 가이드**: 5가지 카테고리에 따라 최적화된 학습 계획 자동 생성
- **Tavily 기반 최신 정보 검색**: 교재, 강의, 후기, 자료 등 실시간 정보 수집
- **실제 가격 정보 제공**: Tavily 검색을 통한 정확한 예상 비용 계산 및 출처 제공
- **단계별 상세 계획**: 3~6단계로 구성된 체계적인 학습 로드맵
- **날짜 자동 배분**: 각 단계별 시작일과 종료일 자동 계산 및 검증
- **풍부한 학습 내용**: 각 단계별 꿀팁과 실전 전략을 포함한 상세한 학습 내용
- **구체적인 투두리스트**: 각 단계마다 최소 5개 이상의 체크 가능한 구체적인 할 일 목록
- **자료 추천**: 유튜브, 블로그, 깃허브 등 최신 자료 추천 (하이퍼링크 지원)
- **후기 요약**: 해당 주제를 학습한 사람들의 후기 정리 (한국어 번역 포함)
- **추천 아이템**: 카테고리별 추천 교재/장비/도구 (최대 3개, 구매 링크 포함)
- **카드형 Word 문서**: 깔끔하고 보기 좋은 카드형 디자인의 Word 파일 자동 생성

### 🌍 다국어 지원
- 모든 출력은 **한국어로 자동 번역**되어 제공됩니다
- 영어 등 다른 언어의 자료를 참고하더라도 한국어로 번역하여 요약

## 📚 5가지 카테고리

### 🔴 1. Academic / STEM (학술·STEM)
**대상**: 수학, 과학, 물리, 화학, 생명과학, 사회과학, 언어학습 등

**특징**:
- 교재 기반 학습 중심
- 개념 이해 → 문제 풀이 순서
- 이론 학습 후 실습/문제 풀이 구성
- **추천 아이템 우선순위**: 교재 > 강의 > 장비

### 🟢 2. Career / Tech Skills (커리어·기술)
**대상**: 코딩, 데이터 분석, AI, 웹 개발, 보안, 디자인, PM, 비즈니스 스킬 등

**특징**:
- 프로젝트 기반 학습 중심
- 포트폴리오 구축 필요
- 각 단계마다 실전 프로젝트 포함
- 깃허브 레포지토리 추천 필수 (코딩 관련)
- **추천 아이템 우선순위**: 교재 > 강의 > 장비

### ⚽ 3. Sports / Physical Skills (스포츠·신체 기술)
**대상**: 축구, 농구, 야구, 골프, 헬스, 달리기, 요가 등

**특징**:
- 기술 단계별 훈련 중심
- 장비 비용 포함 필수
- 영상 분석 및 실제 연습 병행
- 각 단계마다 구체적인 훈련 방법과 영상 자료 추천
- **추천 아이템 우선순위**: 장비/도구 > 교재

### 🎨 4. Arts / Creative (예술·창작)
**대상**: 춤, 음악, 그림, 사진, 영상편집, 작곡, 연기 등

**특징**:
- 실습 기반 학습 중심
- 창작물 생성 필수
- 레퍼런스 및 작품 분석 포함
- 각 단계마다 완성할 작품 목표 설정
- **추천 아이템 우선순위**: 장비/도구 > 교재

### 🎯 5. Lifestyle / Hobby (취미·생활)
**대상**: 요리, 여행 준비, 생산성, 글쓰기, 정리, 원예, 뜨개질, 주식 등

**특징**:
- 루틴 관리 중심
- 가벼운 실천 중심
- 각 단계를 일상 생활에 쉽게 접목할 수 있도록 구성
- 실용적인 팁과 트릭 포함
- **추천 아이템 우선순위**: 장비/도구 > 교재

## 🏗️ 프로젝트 구조

```
hateslop_hackathon/
├── main.py                    # 메인 실행 스크립트
├── requirements.txt           # 패키지 의존성
├── README.md                  # 프로젝트 설명 (이 파일)
├── .gitignore                 # Git ignore 파일
├── .env                       # 환경 변수 (API 키) - 직접 생성 필요
│
├── tool/                      # Agent 함수들
│   ├── __init__.py
│   ├── category_agents.py     # 5가지 카테고리별 Agent 함수
│   └── category_router.py     # 카테고리 분류 및 라우팅
│
├── utils/                     # 유틸리티 함수들
│   ├── __init__.py
│   ├── json_parser.py         # LLM 출력 JSON 파싱 및 검증
│   ├── date_validator.py      # 날짜 검증 및 자동 수정
│   ├── price_fetcher.py       # Tavily 기반 가격 정보 수집
│   └── word_generator.py      # 카드형 디자인 Word 파일 생성
│
├── COLLABORATION.md           # 협업 가이드
├── SETUP.md                   # 상세 설치 가이드
├── PROJECT_STRUCTURE.md       # 프로젝트 구조 설명
├── TODO.md                    # 작업 목록
└── IMPLEMENTATION_STATUS.md   # 구현 상태
```

## 🚀 빠른 시작

### 1. 패키지 설치

```bash
pip install -r requirements.txt
```

### 2. 환경 변수 설정

프로젝트 루트에 `.env` 파일을 생성하고 API 키를 설정하세요:

```env
TAVILY_API_KEY=your_tavily_api_key_here
OPENAI_API_KEY=your_openai_api_key_here
```

**API 키 발급 방법**:
- **Tavily**: https://tavily.com 에서 회원가입 후 API 키 발급
- **OpenAI**: https://platform.openai.com 에서 API 키 발급

### 3. 실행

```bash
python main.py
```

프롬프트에 따라:
1. 학습 주제 입력 (예: "머신러닝", "축구", "뜨개질", "미적분학")
2. 시작 날짜 입력 (선택사항, 엔터 시 오늘 날짜 사용)
3. 자동으로 카테고리 분류 및 학습 가이드 생성
4. Word 파일로 결과 저장 (파일명: `{주제}_학습가이드_{타임스탬프}.docx`)

## 💻 사용 예시

### 커맨드라인 실행

```bash
$ python main.py

============================================================
🎓 학습 가이드 Agent
============================================================

어떤 것을 배우고 싶으신가요?
예시: 머신러닝, 파이썬, 축구, 뜨개질, 주식, C언어, 춤 등

학습 주제를 입력하세요: 축구
시작 날짜를 입력하세요 (YYYY-MM-DD, 엔터 시 오늘): 

============================================================
📚 '축구' 학습 가이드 생성 중...
============================================================

📌 분류된 카테고리: Sports / Physical Skills
✅ 학습 가이드 생성 완료!
📖 주제: 축구
🏷️  카테고리: Sports / Physical Skills
📅 학습 기간: 2025-12-04 ~ 2025-12-18
⏱️  총 학습 일수: 14일
💰 총 예상 금액: 150,000원
📌 총 4단계로 구성됩니다.

📄 전체 내용은 워드 파일에서 확인하세요: 축구_학습가이드_20251204_191504.docx
```

### Python 스크립트에서 사용

```python
from main import create_learning_guide
from utils.word_generator import save_learning_guide_to_word

# 학습 가이드 생성
guide = create_learning_guide("머신러닝", start_date="2025-12-05")

# 에러 확인
if "error" in guide:
    print(f"오류 발생: {guide['error']}")
else:
    # Word 파일로 저장
    word_file = save_learning_guide_to_word(guide)
    print(f"저장 완료: {word_file}")
```

## 🛠️ 기술 스택

- **LangChain**: Agent 프레임워크 및 프롬프트 관리
- **OpenAI GPT-4 Turbo**: 고품질 학습 가이드 생성
- **Tavily Search API**: 최신 정보 검색 (교재, 강의, 후기, 가격)
- **python-docx**: Word 문서 생성
- **python-dotenv**: 환경 변수 관리

## 📋 주요 파일 설명

### `main.py`
- 사용자 입력 받기
- 환경 변수 로드 및 검증
- 학습 가이드 생성 프로세스 조율
- 결과 출력 및 Word 파일 저장

### `tool/category_router.py`
- 학습 주제를 5가지 카테고리 중 하나로 자동 분류
- 키워드 기반 분류 + LLM 기반 분류 (fallback)
- 해당 카테고리의 Agent 함수로 라우팅

### `tool/category_agents.py`
- 5가지 카테고리별 Agent 함수 구현
- 각 카테고리마다 최적화된 프롬프트와 가이드라인
- LangChain Agent + Tavily Tool을 활용한 학습 가이드 생성
- 한국어 출력 강제 설정

### `utils/json_parser.py`
- LLM 출력에서 JSON 추출 및 파싱
- 불완전한 JSON 처리 및 기본값 설정
- 에러 핸들링

### `utils/date_validator.py`
- 학습 기간 날짜 검증 및 자동 수정
- 단계별 날짜 연속성 보장
- 총 학습 일수 계산 및 검증

### `utils/price_fetcher.py`
- Tavily API를 통한 가격 정보 검색
- 카테고리별 대표 품목 자동 추론
- 상위 3개 검색 결과의 평균 가격 계산
- 출처 정보 포함

### `utils/word_generator.py`
- 카드형 디자인의 Word 문서 생성
- 하이퍼링크 지원 (참고 사이트)
- 텍스트 정제 및 포맷팅
- 학습 내용, 투두리스트, 참고 자료, 추천 아이템 등을 구조화된 형식으로 출력

## 🎯 생성되는 Word 문서 구조

1. **표지 카드**
   - 학습 주제 (큰 제목)
   - 카테고리
   - 구분선

2. **📅 학습 개요**
   - 학습 기간
   - 총 학습 일수

3. **💰 예상 비용 요약**
   - 교재 비용
   - 강의 비용
   - 장비/기타 비용
   - 총합
   - 세부 비용 (각 품목별 가격 및 출처)
   - **✨ 추천 Item** (카테고리별 최대 3개, 구매 링크 포함)

4. **🔵 Step 1~N** (각 단계별)
   - 기간 정보
   - 📚 학습 내용 (상세한 꿀팁 및 전략)
   - 🌐 참고 자료 (하이퍼링크)
   - 📝 To-do List (구체적인 할 일)

5. **📌 학습 후기 요약**
   - 학습자 후기 요약 (한국어로 번역)

## 📖 사용된 학습 내용 (hw1~hw11)

이 프로젝트는 헤이트슬롭 3기 과정에서 배운 내용을 종합적으로 활용합니다:

- **hw3**: 프롬프트 엔지니어링 (Role Prompting, Few-shot, Chain-of-Thought)
- **hw11**: LangChain Agent + Tavily Tool 활용 (필수)
- **hw2**: 데이터 크롤링 패턴 (참고)
- **hw5**: 문서 생성 패턴 (참고)

## 🔧 주요 기능 상세

### 1. 카테고리별 맞춤 학습
각 카테고리는 고유한 학습 방식과 추천 자료 유형을 가지고 있어, 주제에 맞는 최적화된 가이드가 생성됩니다.

### 2. Tavily 기반 최신 정보
- 실시간 교재 정보 및 가격
- 최신 강의 및 유튜브 채널
- 학습자 후기 및 경험담
- 구매 링크 및 출처 제공

### 3. 실제 가격 정보
- Tavily 검색을 통한 정확한 가격 정보
- 상위 3개 검색 결과의 평균 가격 계산
- 각 항목별 출처 및 구매 링크 제공
- 카테고리별 대표 품목 자동 추론

### 4. 상세한 학습 내용
- 각 단계별 최소 4문장 이상의 상세 설명
- 왜 중요한지, 어떤 전략이 필요한지 설명
- 실전에서 바로 쓸 수 있는 꿀팁 포함

### 5. 구체적인 투두리스트
- 각 단계마다 최소 5개 이상의 할 일
- 측정 가능한 성과 지표 포함 (예: "30분 연습 3회 반복")
- 체크 가능한 형태로 구성

## 🤝 협업 가이드

자세한 협업 방법은 `COLLABORATION.md` 파일을 참고하세요.

### 기본 원칙
- 각 팀원은 자신의 이름/닉네임으로 폴더를 생성하여 작업
- 공통 기능은 `tool/` 또는 `utils/` 폴더에 추가
- Pull Request를 통한 코드 리뷰 및 병합

### 개발 워크플로우
1. 기능별로 브랜치 생성
2. 각자의 폴더에서 작업 및 테스트
3. 공통 기능 통합 및 테스트
4. Pull Request 생성

## 📝 코드 컨벤션

- 함수명: `snake_case`
- 클래스명: `PascalCase`
- 상수: `UPPER_CASE`
- 주석: 한국어 또는 영어
- 타입 힌트: 가능한 경우 명시

## ⚠️ 주의사항

1. **API 키 보안**: `.env` 파일은 절대 Git에 커밋하지 마세요
2. **API 사용량**: Tavily와 OpenAI API 사용량에 주의하세요
3. **에러 처리**: 네트워크 오류나 API 오류 시 재시도 로직이 포함되어 있으나, 장시간 실행 시 주의가 필요합니다

## 🐛 문제 해결

### 환경 변수 오류
```
❌ 경고: TAVILY_API_KEY 환경변수가 설정되지 않았습니다.
```
→ `.env` 파일을 프로젝트 루트에 생성하고 API 키를 설정하세요.

### JSON 파싱 오류
→ LLM 출력 형식이 불완전할 수 있습니다. 다시 시도해보세요.

### Word 파일 생성 오류
→ `python-docx` 패키지가 제대로 설치되었는지 확인하세요.

## 🚧 향후 개선 사항

- [ ] RAG를 활용한 학습 자료 캐싱
- [ ] 진행 상황 추적 기능
- [ ] 학습 일정 캘린더 생성
- [ ] 여러 주제 동시 학습 지원
- [ ] 웹 인터페이스 구현
- [ ] 학습 가이드 공유 기능

## 📄 라이선스

MIT License

## 👥 작성자

헤이트슬롭 3기 미니 해커톤 팀

---

**문의사항이나 버그 리포트는 이슈를 등록해주세요!** 🎉
